export const metadata = { title: "Markers" }

# Markers

Markers are named pins on the map with optional colors, icons, labels, tooltips, and popups.

## Basic Usage

```json
{
  "markers": {
    "cafe": {
      "coordinates": [-73.98, 40.75],
      "color": "#e74c3c",
      "icon": "coffee",
      "tooltip": "Blue Bottle · Midtown",
      "popup": {
        "title": "Blue Bottle Coffee",
        "description": "Specialty coffee roaster"
      }
    },
    "park": {
      "coordinates": [-73.97, 40.76],
      "color": "#22c55e",
      "icon": "tree-pine",
      "tooltip": "Central Park · Manhattan"
    }
  }
}
```

## Properties

| Property | Type | Required | Description |
|---|---|---|---|
| `coordinates` | `[lng, lat]` | Yes | Marker position |
| `color` | `string` | No | Marker color (hex) |
| `icon` | `string` | No | Lucide icon name in kebab-case (e.g. `"coffee"`, `"hotel"`, `"star"`) |
| `label` | `string` | No | Text displayed below the marker |
| `tooltip` | `string` | No | Short text shown on hover |
| `popup` | `string \| PopupSpec` | No | Content shown when marker is clicked |
| `draggable` | `boolean` | No | Whether the marker can be dragged |
| `glow` | `boolean` | No | Adds a colored pulse ring and glow shadow |

## Marker Styles

Markers come in two visual styles:

- **Dot** — default when no `icon` is set. A colored circle with a white border.
- **Icon** — when `icon` is set. A rounded square with a white Lucide icon inside.

```json
{
  "markers": {
    "plain": { "coordinates": [0, 0], "color": "#e74c3c" },
    "with-icon": { "coordinates": [1, 0], "color": "#3498db", "icon": "star" }
  }
}
```

## Icons

The `icon` field accepts any [Lucide](https://lucide.dev/) icon name in kebab-case:

`"coffee"`, `"hotel"`, `"utensils"`, `"landmark"`, `"train"`, `"plane"`, `"hospital"`, `"school"`, `"shopping-cart"`, `"fuel"`, `"tree-pine"`, `"mountain"`, `"music"`, `"camera"`, `"heart"`, `"star"`, `"flag"`, `"map-pin"`, `"building-2"`, `"warehouse"`, `"bike"`, `"ship"`, `"bus"`, `"car"`, etc.

## Glow Effect

Set `glow: true` for a pulsing colored ring effect — useful for highlighting active or important markers.

```json
{
  "coordinates": [-73.98, 40.75],
  "color": "#e74c3c",
  "glow": true
}
```

## Tooltip vs Popup

- **Tooltip** — appears on hover, disappears on mouse leave. Short, one-line text.
- **Popup** — appears on click. Can contain title, description, and image.

## Popup Formats

The `popup` field accepts either a simple string or a rich object:

**Simple string:**

```json
{ "popup": "A brief description" }
```

**Rich popup with title, description, and image:**

```json
{
  "popup": {
    "title": "Eiffel Tower",
    "description": "330m iron lattice tower on the Champ de Mars",
    "image": "https://example.com/eiffel.jpg"
  }
}
```

## Events

Marker events are handled via props on `MapRenderer`. See [Events](/docs/events) for details.

```tsx
<MapRenderer
  spec={spec}
  onMarkerClick={(id, coords) => console.log(id, coords)}
  onMarkerDragEnd={(id, coords) => console.log(id, coords)}
/>
```

## Custom Markers

You can replace the default marker component with your own. See [Component Slots](/docs/component-slots).

## Why Named Map?

Markers use a named map (`{ "cafe": {...} }`) instead of an array. This makes it easy to:

- Reference individual markers by key
- Update or remove a specific marker via JSON patches
- Stream marker additions without replacing the whole array
